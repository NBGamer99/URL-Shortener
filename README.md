# About
---
<p align="center"><a href="https://laravel.com" target="_blank"><img src="https://raw.githubusercontent.com/laravel/art/master/logo-lockup/5%20SVG/2%20CMYK/1%20Full%20Color/laravel-logolockup-cmyk-red.svg" width="400" alt="Laravel Logo"></a></p>

<p align="center">
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/dt/laravel/framework" alt="Total Downloads"></a>
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/v/laravel/framework" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/l/laravel/framework" alt="License"></a>
</p>

## Laravel

Laravel is a popular open-source PHP web application framework known for its elegant syntax and developer-friendly features. It follows the Model-View-Controller (MVC) architectural pattern, making it easy to build scalable and maintainable web applications. Laravel provides a wide range of features, including routing, database ORM, authentication, caching, and more. It emphasizes simplicity, expressive code, and developer productivity, making it a preferred choice for building modern web applications.

<p dir="auto" align="center"><a href="https://vuejs.org" rel="nofollow"><img src="https://camo.githubusercontent.com/c8f91d18976e27123643a926a2588b8d931a0292fd0b6532c3155379e8591629/68747470733a2f2f7675656a732e6f72672f696d616765732f6c6f676f2e706e67" alt="Vue logo" data-canonical-src="https://vuejs.org/images/logo.png" style="max-width: 100%;" width="100"></a></p>

<p dir="auto" align="center">
  <a href="https://circleci.com/gh/vuejs/vue/tree/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/464affec1d056eecc08779948a1bb93bc579e4ab7637979609cd1506a43ad301/68747470733a2f2f696d672e736869656c64732e696f2f636972636c6563692f70726f6a6563742f6769746875622f7675656a732f7675652f6465762e7376673f73616e6974697a653d74727565" alt="Build Status" data-canonical-src="https://img.shields.io/circleci/project/github/vuejs/vue/dev.svg?sanitize=true" style="max-width: 100%;"></a>
  <a href="https://codecov.io/github/vuejs/vue?branch=dev" rel="nofollow"><img src="https://camo.githubusercontent.com/b9a0f4b81a809710693e04958d01a83e1a4c94b3ec5a7c87a5275fc763a07279/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f6769746875622f7675656a732f7675652f6465762e7376673f73616e6974697a653d74727565" alt="Coverage Status" data-canonical-src="https://img.shields.io/codecov/c/github/vuejs/vue/dev.svg?sanitize=true" style="max-width: 100%;"></a>
  <a href="https://npmcharts.com/compare/vue?minimal=true" rel="nofollow"><img src="https://camo.githubusercontent.com/a59bbe40866f28928406c8775963465180a4c338b16a0122d327a6cdaf8fbc08/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f7675652e7376673f73616e6974697a653d74727565" alt="Downloads" data-canonical-src="https://img.shields.io/npm/dm/vue.svg?sanitize=true" style="max-width: 100%;"></a>
  <a href="https://www.npmjs.com/package/vue" rel="nofollow"><img src="https://camo.githubusercontent.com/6a1ee221c99c800e8d3b104c99033afa11d84c16f58e77632d21ed9d2370f49d/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f7675652e7376673f73616e6974697a653d74727565" alt="Version" data-canonical-src="https://img.shields.io/npm/v/vue.svg?sanitize=true" style="max-width: 100%;"></a>
  <a href="https://www.npmjs.com/package/vue" rel="nofollow"><img src="https://camo.githubusercontent.com/9cd15767dc45dd1a09a15c0751f65623b4040bc28f13875a3803250e3d95e167/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f6c2f7675652e7376673f73616e6974697a653d74727565" alt="License" data-canonical-src="https://img.shields.io/npm/l/vue.svg?sanitize=true" style="max-width: 100%;"></a>
  <a href="https://chat.vuejs.org/" rel="nofollow"><img src="https://camo.githubusercontent.com/e1833c7e063a9706c5c5916d41ea2475f7e0e002dc2b5cf4ff83ddec9a0db8c0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636861742d6f6e253230646973636f72642d3732383964612e7376673f73616e6974697a653d74727565" alt="Chat" data-canonical-src="https://img.shields.io/badge/chat-on%20discord-7289da.svg?sanitize=true" style="max-width: 100%;"></a>
</p>

## Vue.js

Vue.js is a progressive JavaScript framework for building user interfaces. It focuses on the view layer of an application and allows developers to create interactive and dynamic web interfaces with ease. Vue.js is lightweight, flexible, and has a gentle learning curve, making it a popular choice for both small and large-scale projects. It provides features such as data binding, component-based architecture, reactivity, and a robust ecosystem of plugins and libraries. With Vue.js, you can create responsive and engaging user interfaces while enjoying efficient development and performance.

> ðŸ’¡ Both Laravel and Vue.js complement each other seamlessly, allowing developers to build powerful full-stack applications with a smooth integration between the backend and frontend. Laravel provides the server-side infrastructure, API endpoints, and business logic, while Vue.js handles the dynamic user interfaces and interactive components. Together, they enable developers to create modern, scalable, and efficient web applications.

Certainly! Here's a README file in markdown style for your URL shortener application:

## URL Shortener App - Laravel, Vue.js, and Inertia.js

<p align="center">

  <img src="./static/imgs/svgexport-2.png" alt="Image" width="100" height="100" style="max-width: 300px; max-height: 300px;">

  <center>

 [![Laravel Forge Site Deployment Status](https://img.shields.io/endpoint?url=https%3A%2F%2Fforge.laravel.com%2Fsite-badges%2F5a187c45-1d98-428a-8787-fda1fd01af61&style=plastic)](https://forge.laravel.com/servers/690134/sites/2006348)
  </center>
</p>

This repository contains the code for a URL shortener application built using Laravel, Vue.js, and Inertia.js.



## Project Overview

The URL shortener app allows users to shorten long URLs into more compact ones, making it easier to share and manage links. The application is built using the following technologies:

- **Laravel:** A powerful PHP framework for building web applications.
- **Vue.js:** A JavaScript framework for building user interfaces.


# Opted Design Pattern
---



A combination of the MVC (Model-View-Controller) pattern on the Laravel backend and the MVVM (Model-View-ViewModel) pattern on the Vue.js frontend.

### Backend (Laravel)


- MVC (Model-View-Controller): Laravel's backend architecture separates concerns into three main components:
  - Model: Represents data structures and handles interactions with the database.
  - View: Displays the user interface.
  - Controller: Handles the application logic, receives user input, interacts with models, and returns responses.

### Frontend (Vue.js)

- MVVM (Model-View-ViewModel): Vue.js frontend architecture separates concerns into three main components:
  - Model: Represents the data structures specific to the frontend.
  - View: Defines UI components and templates.
  - ViewModel: Acts as an intermediary between views and models, handling business logic, data manipulation, and API calls to the backend.

<center>

![](./static/imgs/5_MVC.png)
</center>

# App Use Case :
---

![](./static/imgs/diagram.png)


**User:**

The User actor refers to an authenticated user who has an account within the URL shortener app. As a User, they can perform the following actions:

- Shorten URLs: The User can enter a long URL and generate a shortened version of it.
- View Shortened URLs: The User can access a list of their previously shortened URLs.
- Track Statistics: The User can view various statistics related to their shortened URLs, such as the number of clicks.
- Manage Shortened URLs: The User can delete their existing shortened URLs as needed.

**Guest:**

The Guest actor refers to users who visit the URL shortener app without authenticating or having an account. As a Guest, they can perform the following actions:

- Shorten URLs: The Guest can enter a long URL and generate a shortened version of it.
- Use Shortened URLs: The Guest can utilize the shortened URLs for their intended purposes, such as sharing them on social media or including them in messages.
- No Tracking or Statistics: Unlike the authenticated User, the Guest does not have access to tracking or statistics related to the shortened URLs they generate. They cannot view the number of clicks or any other analytics information.

By distinguishing between User and Guest actors, the URL shortener app provides additional functionality and features for authenticated users while still allowing unauthenticated users to utilize the basic URL shortening capabilities. This differentiation enables the app to cater to the needs of both types of users effectively.

# Data Base Scheme :
---
![](./static/imgs/d2.png)


# Shortening Approach :
---
![](./static/imgs/short.png)

```php
	public function short(ShortRequest $request)
	{
		if ($request->orginal_url) {
			if (Auth::user()) {
				$new_url = Auth::user()
					->links()
					->create([
						'org_url' => $request->orginal_url,
					]);
			} else {
				$new_url = ShortUrl::create([
					'org_url' => $request->orginal_url,
				]);
			}
			if ($new_url) {
				$short_url = Str::random(6);
				$new_url->update([
					'short_url' => $short_url,
				]);
				$shortUrl = url('shorten/' . $short_url);
				return Inertia::render('Welcome', [
					'url' => $shortUrl,
					'canLogin' => Route::has('login'),
					'canRegister' => Route::has('register'),
				]);
			}
			return Redirect::to('/');
		}
	}

```

The provided code represents the process of shortening a URL. It checks if the original URL is provided and then creates a new link record. If an authenticated user is present, the link record is associated with their account; otherwise, it is created directly. A randomly generated short URL code is assigned to the link record, and the short URL is constructed. Finally, a response is returned, likely using the Inertia.js framework, rendering a welcome view with the shortened URL displayed. The code allows authenticated users to track their shortened URLs, while unauthenticated users can generate short URLs without tracking or statistics.

## Routing and Url Redirection :

```php
Route::get('/shorten/{short_url}', [ShortUrlController::class, 'redirect'])->name('shorten.redirect');

...

	public function redirect($short_url)
	{
		$short_url = ShortUrl::where('short_url', $short_url)->first();
		if ($short_url->is_enabled) {
			$short_url->increment('clicks');
			return Redirect::to(url($short_url->org_url));
		}
		// TODO add error page
		return Redirect::to('/');
	}
```

When a GET request is made to the `'/shorten/{short_url}'` route, the `redirect()` method is invoked. Inside the method, it retrieves the corresponding `ShortUrl` record based on the provided `short_url` parameter. If the short URL is enabled, it increments the `clicks` counter for that URL and redirects the user to the original URL. Otherwise, if the short URL is not enabled, it redirects the user to the homepage.

# ðŸ¥³ That's it!
---

![](./static/imgs/test.gif)

# ðŸ“š Resources
---

- vuejs docs : [link](https://vuejs.org/v2/guide/)

- Inertia.js - The Modern Monolith : [link](https://inertiajs.com/)

- Laravel docs : [link](https://laravel.com/docs/10.x/installation)
-   Flowbite - Tailwind CSS component library  :[Link](https://flowbite.com/docs/)
- Laravel Vite+Vue.js configuration : [link](https://laravel.com/docs/10.x/vite#vue)

- Laravel Vue.js : [link](https://laravel.com/docs/10.x/frontend#using-vue-react)

- Install Vue 3 on Laravel 9 with Vite - Laravel VueJS Tutorial : [link](https://www.youtube.com/watch?v=E9ZluStP_eY)

# Contributing
---
Contributions are welcome! If you find any issues or want to enhance the URL shortener app, feel free to open a pull request.

Please make sure to follow the [code of conduct](CONTRIBUTING.md) when contributing to this project.
# License
---
The URL shortener app is open-source and available under the [MIT License](LICENSE).

# Acknowledgements
---
Special thanks to the creators and maintainers of Laravel, Vue.js, and Inertia.js for providing the amazing tools and libraries used in this project.

# Contact
---
For any questions or inquiries, please contact [yassernabouzi@ynabouzi.me](mailto:yassernabouzi@ynabouzi.me).